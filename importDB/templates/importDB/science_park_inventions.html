{% extends 'importDB/base_3.html' %}
{% load static %}
{% block content %}
{% load plotly_dash %}
{% load humanize %}


<style type="text/css">


    @media screen and (min-width: 1px) and (max-width: 1330px)  {
    .sci-park-col1{
        width:100% !important;
        }
        .sci-park-col2{
        width:100% !important;
        }
        
    }

    @media screen and (min-width: 1331px) and (max-width: 9999px)   {
    .sci-park-col1{
        width:45% !important;
        }
      .sci-park-col2{
        width:55% !important;
        }
    }

    @media screen and (min-width: 1px) and (max-width: 1403px)  {
    .sci-park-col1{
        width:100% !important;
        }
        .sci-park-col2{
        width:100% !important;
        }
        
    }

    @media screen and (min-width: 1404px) and (max-width: 9999px)   {
    /* .sci-park-col1{
        width:70% !important;
        }
      .sci-park-col2{
        width:30% !important;
        }
    } */
    .sci-park-col1{
        width:60% !important;
        }
      .sci-park-col2{
        width:40% !important;
        }
    }

  .card_sci{
        transition: 0.4s;
        }
  .card_sci:hover {
        transform: scale(1.05, 1.05);
        }

  .circle-icon {
    background: #ffc0c0;
    /* width: 100px;
    height: 100px; */
    border-radius: 50%;
    text-align: center;
    line-height: 100px;
    vertical-align: middle;
    padding: 30px;
}

.circle-icon2 {
    background: #ffc0c0;
    vertical-align: middle;
    padding:30px;
    border-radius: 50%;
}

.icon-bg {
    color: #424242;
}

.science-park-buttons {
        color: #ffffff !important;
        font-weight: 600;
        /* font-weight: bold; #111e6c*/ 
        background: rgb(6, 86, 167);
        padding: 4px;
        /* border: 1px solid #111e6c !important; */
        display: inline-block;
        transition: all 0.4s ease 0s;
        width: 8rem;
        height: 2rem;
        }
    
  .science-park-buttons:hover {
      color: #202020 !important;
      background: #fcfafa !important;
      border-color: #000000 !important;
      transition: all 0.4s ease 0s;
      }

    .todo-indicator {
        position: absolute;
        width: 4px;
        height: 60%;
        border-radius: .3rem;
        left: .625rem;
        top: 20%;
        opacity: .6;
        transition: opacity .2s;
    }
    .bg-warning1 {
    background-color: #f7b924 !important;
    }

    .flex-container {
  /* width: 30%; */
  height: 50px;
  background-color: rgba(42, 236, 227, 0.3);
  /* text-align: center; */
  border-radius: 25%;
  

  }

  

</style>
    
<div class="container-fluid">
  <div class="row mx-2" >
    <div class="col-xs-12 col-md-12 col-lg-12 "  >
      <div class="pr-3 mb-1" style=" float: right;">
        <b>ข้อมูลจากอุทยานวิทยาศาสตร์ &nbsp;</b> 
        <span class = "px-2" style="font-size:15px; background-color: coral;  border-radius: 30px; "><b>Last updated: </b> {{date}}</span>
      </div> 
    </div>
  </div>
  <div class="row ml-3 mr-4 my-2" >
    <div class=" sci-park-col1 mb-2 d-flex">
      <div class="card pretty_container " style="position: relative; width: 100%;">
        <!-- เลือกปี -->
        <div class="row" >
          <div class = "col " style="width: 100%;">
            <div class="card-header pt-2 " style="width:100%; background-color: #ffeac9a9;" >
              <div class= "row pt-1 ">
                <div class="col-xs-12 col-md-12 col-lg-12 "  >
                  <form class="mt-1 " name='filter' method=POST  >
                    {% csrf_token %}
                    <div class="font-size-lg">
                      <b style="display:inline-block; color: black;"> &nbsp;&nbsp;นวัตกรรม | ปีพ.ศ. :&nbsp; </b>
                      <select id="year" name = "year" class=" btn ex2 dropdown-toggle" onChange="filter.submit();" style="background-color: rgb(46, 45, 45); color:#ffffff;">
                          {% for y in year  %}
              
                              {% if y == filter_year%} 
                                  <option  value="{{ y }}" selected>{{ y }} </option>
                              {% else %}
                                  <option value="{{ y }}" >{{ y }} </option>
                              {%endif%}
                          {% endfor %}
                
                      </select>
                      <img src="{% static 'img/question-mark-logo.png' %}" style="float:right;"
                      title="นวัตกรรมเชิงพาณิชย์ คือ ผลงานวิจัยนวัตกรรมที่ใช้ประโยชน์เชิงพาณิชย์กับบริษัทต่างๆ 
                      หรือบริษัทที่เปิด Spin off หรือเกิดการระดมทุนในต่างประเทศ 
                      เพื่อตอบประเด็นยุทธศาสตร์: Increase technology-transfer ability at the international level. " 
                      style="display: block; margin-left: auto; margin-right: auto; " 
                      width="15" height="15" /> 
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- table -->
        <div class= "row mx-0 " >
          <table id = "table_id1" class = " table mb-0 " style="width:100%; color:black; " >
              <thead >
                  <tr class = "reservation_fontcolor " style="background-color: #333333;">
                      <th class="text-center " style="width: 5%; ">#</th>
                      <th class="text-center " style="width: 30%; ">รายการ</th>
                      <th class="text-center " style="width: 30%; ">จำนวน</th>
                      <th class="text-center " style="width: 20%; "></th>
                  </tr>
              </thead>
              <tbody>
                <tr>
                  <td colspan="4" style="background-color: rgb(212, 212, 209);">
                      <b class="ml-3">&#10148; นวัตกรรมเชิงพาณิชย์ </b>
                  </td>
                </tr>

                <!-- จำนวนผลงานวิจัย หรือ นวัตกรรมที่ใช้ประโยชน์เชิงพาณิชย์ -->
                <tr class="pt-5">
                  <td>
                    <div class="fa-stack fa-lg fa-2x my-4"  >
                      <i class="fa fa-circle fa-stack-2x icon-bg"></i>
                      <i class="fas fa-vial fa-stack-1x" style="color: cornsilk;" ></i>
                    </div>
                  </td>
                  <td>
                    <div class="widget-subheading text-left" style="margin-top: 30px; margin-left: 30px;" >
                      <b>จำนวนผลงานวิจัย หรือ นวัตกรรมที่ใช้ประโยชน์เชิงพาณิชย์ </b>
                    </div>  
                  </td>
                  <td>
                    <div class=" text-gray-800 text-center">
                      <div class="h3" style="margin-top: 33px;">
                        <span>{{sciparkinfo.1|intcomma }} </span>
                      </div>
                      {% if show_growth %}
                      <div  style=" font-size: 90%; "> 
                        Growth Rate : 
                        <span style="color:{{color.0}}">
                          {% if growth_rate.0 > 0 %}
                          <b>+{{growth_rate.0|floatformat:2}}%</b>
                          {% else %}
                          <b>{{growth_rate.0|floatformat:2}}%</b>
                          {% endif %}
                        </span>
                      </div>
                      {% endif %}
                    </div>  
                  </td>
                  <td class="text-center" style="padding-top: 50px;">
                    <a href = '{% url "science-park-graph" value="1"%}' target="_blank"> 
                      <input  type="submit" value="View Graph" class="btn science-park-buttons " 
                      style=" border-radius : 25px; background-color: #333333;" />
                    </a>
                  </td>
                </tr>

                <!-- รายรับจากการขาย/ขอใช้ สิทธิบัตร -->
                <tr class="pt-5">
                  <td>
                    <div class="fa-stack fa-lg fa-2x my-4"  >
                      <i class="fa fa-circle fa-stack-2x icon-bg"></i>
                      <i class="fas fa-scroll fa-stack-1x" style="color: cornsilk;" ></i>
                    </div>
                  </td>
                  <td>
                    <div class="widget-subheading text-left" style="margin-top: 30px; margin-left: 30px;" >
                      <b>จำนวนทรัพย์สินทางปัญญา หรือ สิทธิบัตรที่ถูกนำไปใช้ประโยชน์เชิงพาณิชย์ </b>
                    </div>  
                  </td>
                  <td>
                    <div class=" text-gray-800 text-center">
                      <div class="h3" style="margin-top: 32px;">
                        <span>{{sciparkinfo.2|intcomma }}</span>
          
                      </div>
                      {% if show_growth %}
                      <div  style=" font-size: 90%; "> 
                        Growth Rate : 
                        <span style="color:{{color.1}}">
                          {% if growth_rate.1 > 0 %}
                          <b>+{{growth_rate.1|floatformat:2}}%</b>
                          {% else %}
                          <b>{{growth_rate.1|floatformat:2}}%</b>
                          {% endif %}
                        </span>
                      </div>
                      {% endif %}
                    </div>  
                  </td>
                  <td class="text-center" style="padding-top: 50px;"> 
                    <a href = '{% url "science-park-graph" value="2"%}' target="_blank"> 
                      <input  type="submit" value="View Graph" class="btn science-park-buttons " 
                      style=" border-radius : 25px; background-color: #333333;" />
                    </a>
                  </td>
                </tr>

                 <!-- รายรับงานวิจัย -->
                <tr>
                  <td colspan="4" style="background-color: rgb(212, 212, 209);">
                      <b class="ml-3">&#10148; นวัตกรรมที่เกิดร่วมกันระหว่างมหาวิทยาลัยและเอกชน </b>
                  </td>
                </tr>
                <tr class="pt-5">
                  <td>
                    <div class="fa-stack fa-lg fa-2x my-4"  >
                      <i class="fa fa-circle fa-stack-2x icon-bg"></i>
                      <i class="fas fa-file-contract fa-stack-1x" style="color: cornsilk;" ></i>
                    </div>
                  </td>
                  <td>
                    <div class="widget-subheading text-left" style="margin-top: 30px; margin-left: 30px;" >
                      <b>จำนวนทรัพย์สินทางปัญญา หรือ สิทธิบัตรที่เกิดร่วมกันระหว่างมหาวิทยาลัยและเอกชน </b>
                    </div>  
                  </td>
                  <td>
                    <div class=" text-gray-800 text-center">
                      <div class="h3" style="margin-top: 32px;">
                        <span>{{sciparkinfo.3|intcomma }}</span>
                      </div>
                      {% if show_growth %}
                      <div  style=" font-size: 90%; "> 
                        Growth Rate : 
                        <span style="color:{{color.2}}">
                          {% if growth_rate.2 > 0 %}
                          <b>+{{growth_rate.2|floatformat:2}}%</b>
                          {% else %}
                          <b>{{growth_rate.2|floatformat:2}}%</b>
                          {% endif %}
                        </span>
                      </div>
                      {% endif %}
                    </div>  
                  </td>
                  <td class="text-center" style="padding-top: 50px;"> 
                    <a href = '{% url "science-park-graph" value="3"%}' target="_blank"> 
                      <input  type="submit" value="View Graph" class="btn science-park-buttons " 
                      style=" border-radius : 25px; background-color: #333333;" />
                    </a>
                  </td>
                </tr>
              </tbody>
          </table>
        </div>
      </div>
    </div>  

    <!-- Pie graph -->
    <div class=" sci-park-col2 mb-2 d-flex">  
      <div class="row mx-2 " style="width: 100%;">
        <div class="card pretty_container " style="width: 100%;">
            <div class="card-header pt-3 pb-4" style=" color:black; width:100%; background-color: #ffeac9a9;" >
                <b>แผนภูมิวงกลมนวัตกรรมเชิงพาณิชย์ | ปี : {{filter_year}} </b>
            </div>
            <div class="card-body"  style="width:100%; " > 
                {{ graph1 | safe }}
            </div> 
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

      
      

   
    

    
  
    
{% endblock content %}
